# Testing Checklist: Guest Data ‡πÅ‡∏•‡∏∞ Payment Status Fix

## üìã Pre-Testing Setup

### ‚úÖ Step 1: Rebuild Backend
- [ ] ‡∏£‡∏±‡∏ô `test-guest-data-fix.bat`
- [ ] ‡∏£‡∏≠‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤ backend ‡∏à‡∏∞ rebuild ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ backend ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (port 8080)

### ‚úÖ Step 2: (Optional) Fix Existing Bookings
- [ ] cd `database\migrations`
- [ ] ‡∏£‡∏±‡∏ô `run_fix_mock_guest_data.bat`
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö output ‡∏ß‡πà‡∏≤‡∏°‡∏µ booking ‡∏ñ‡∏π‡∏Å update ‡∏Å‡∏µ‡πà‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£

## üß™ Test Case 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á Booking ‡πÉ‡∏´‡∏°‡πà (Signed-in User)

### Setup
- [ ] ‡πÄ‡∏õ‡∏¥‡∏î browser (Chrome/Edge)
- [ ] ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `http://localhost:3000`
- [ ] Sign in ‡∏î‡πâ‡∏ß‡∏¢ guest account:
  ```
  Email: john.doe@example.com
  Password: password123
  ```

### Create Booking
- [ ] ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡πâ‡∏≠‡∏á"
- [ ] ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà check-in ‡πÅ‡∏•‡∏∞ check-out
- [ ] ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å (‡πÄ‡∏ä‡πà‡∏ô 2 adults)
- [ ] ‡∏Ñ‡∏•‡∏¥‡∏Å "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤"
- [ ] ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
- [ ] ‡∏Ñ‡∏•‡∏¥‡∏Å "‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏µ‡πâ"

### Guest Info Page
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡∏ñ‡∏π‡∏Å pre-fill ‡∏à‡∏≤‡∏Å account
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏ñ‡∏π‡∏Å pre-fill ‡∏à‡∏≤‡∏Å account
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏≤‡∏Å account (disabled field)
- [ ] ‡∏Ñ‡∏•‡∏¥‡∏Å "Continue to Payment"

### Payment Page
- [ ] ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï (mock):
  ```
  Card Number: 1234 5678 9012 3456
  Name: John Doe
  Expiry: 12/25
  CVV: 123
  ```
- [ ] ‡∏Ñ‡∏•‡∏¥‡∏Å "Complete Booking"
- [ ] ‡∏£‡∏≠‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞ redirect ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ confirmation

### Confirmation Page
- [ ] ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÅ‡∏™‡∏î‡∏á booking ID
- [ ] ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠: John Doe (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Fon Testuser)
- [ ] ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•: john.doe@example.com
- [ ] ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: Confirmed

## üß™ Test Case 2: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö admin/reception

### Setup
- [ ] ‡πÄ‡∏õ‡∏¥‡∏î tab ‡πÉ‡∏´‡∏°‡πà
- [ ] ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `http://localhost:3000/auth/admin`
- [ ] Sign in ‡∏î‡πâ‡∏ß‡∏¢ receptionist account:
  ```
  Username: receptionist
  Password: password123
  ```

### Check Booking Management Tab
- [ ] ‡πÑ‡∏õ‡∏ó‡∏µ‡πà admin/reception
- [ ] ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÅ‡∏ó‡πá‡∏ö "‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á"
- [ ] ‡∏´‡∏≤ booking ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á (‡∏î‡∏π‡∏à‡∏≤‡∏Å booking ID)

### Verify Data
- [ ] ‚úÖ ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á: **John Doe** (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Fon Testuser)
- [ ] ‚úÖ ‡∏≠‡∏µ‡πÄ‡∏°‡∏•: **john.doe@example.com** (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà fon.test@example.com)
- [ ] ‚úÖ ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£: **0812345678** (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà 0867890006)
- [ ] ‚úÖ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: **‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß**

## üß™ Test Case 3: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö admin/checkin

### Navigate to Check-in Page
- [ ] ‡πÑ‡∏õ‡∏ó‡∏µ‡πà admin/checkin
- [ ] ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà check-in ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö booking

### Verify Arrival Info
- [ ] ‡∏´‡∏≤ booking ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á
- [ ] ‚úÖ ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á: **John Doe** (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Fon Testuser)
- [ ] ‚úÖ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞: **approved** (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ä‡∏≥‡∏£‡∏∞")
- [ ] ‚úÖ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞ check-in ‡πÑ‡∏î‡πâ

### Test Check-in Flow
- [ ] ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡πâ‡∏≠‡∏á"
- [ ] ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏á
- [ ] ‡∏Ñ‡∏•‡∏¥‡∏Å "Check-in"
- [ ] ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ check-in ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- [ ] ‚úÖ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ booking ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô "CheckedIn"

## üß™ Test Case 4: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á

### Compare Data Across Pages
- [ ] ‡πÄ‡∏õ‡∏¥‡∏î admin/reception ‡πÅ‡∏•‡∏∞ admin/checkin ‡πÉ‡∏ô 2 tabs
- [ ] ‡∏î‡∏π booking ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÉ‡∏ô 2 ‡∏´‡∏ô‡πâ‡∏≤

### Verify Consistency
- [ ] ‚úÖ ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô
- [ ] ‚úÖ ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô
- [ ] ‚úÖ ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô
- [ ] ‚úÖ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô (Confirmed ‚Üí approved)

## üß™ Test Case 5: Non-signed-in User (Optional)

### Create Booking Without Sign-in
- [ ] Sign out ‡∏à‡∏≤‡∏Å guest account
- [ ] ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á booking
- [ ] ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• guest ‡πÉ‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°:
  ```
  First Name: Jane
  Last Name: Smith
  Phone: 0898765432
  Email: jane.smith@example.com
  ```
- [ ] Complete booking

### Verify Non-signed-in Booking
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö admin/reception
- [ ] ‚úÖ ‡∏ä‡∏∑‡πà‡∏≠: Jane Smith (‡∏à‡∏≤‡∏Å‡∏ü‡∏≠‡∏£‡πå‡∏°)
- [ ] ‚úÖ ‡∏≠‡∏µ‡πÄ‡∏°‡∏•: jane.smith@example.com (‡∏à‡∏≤‡∏Å‡∏ü‡∏≠‡∏£‡πå‡∏°)
- [ ] ‚úÖ ‡πÄ‡∏ö‡∏≠‡∏£‡πå: 0898765432 (‡∏à‡∏≤‡∏Å‡∏ü‡∏≠‡∏£‡πå‡∏°)

## üß™ Test Case 6: Existing Bookings (‡∏ñ‡πâ‡∏≤‡∏£‡∏±‡∏ô fix script)

### Check Old Bookings
- [ ] ‡πÑ‡∏õ‡∏ó‡∏µ‡πà admin/reception
- [ ] ‡∏î‡∏π booking ‡πÄ‡∏Å‡πà‡∏≤‡πÜ ‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• mock

### Verify Fixed Data
- [ ] ‚úÖ ‡πÑ‡∏°‡πà‡∏°‡∏µ "Fon Testuser" ‡∏≠‡∏µ‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ
- [ ] ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å guest account
- [ ] ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å guest account

## üìä Test Results Summary

### Payment Status
| Location | Expected | Actual | Status |
|----------|----------|--------|--------|
| admin/reception | ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß | | [ ] |
| admin/checkin | approved | | [ ] |
| Consistency | ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô | | [ ] |

### Guest Data
| Field | Expected | Actual | Status |
|-------|----------|--------|--------|
| ‡∏ä‡∏∑‡πà‡∏≠ | John Doe | | [ ] |
| ‡∏≠‡∏µ‡πÄ‡∏°‡∏• | john.doe@example.com | | [ ] |
| ‡πÄ‡∏ö‡∏≠‡∏£‡πå | 0812345678 | | [ ] |
| No Mock Data | ‡πÑ‡∏°‡πà‡∏°‡∏µ Fon Testuser | | [ ] |

## üêõ Troubleshooting

### ‡∏ñ‡πâ‡∏≤ Payment Status ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ backend rebuild ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö backend logs
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ booking status = "Confirmed"

### ‡∏ñ‡πâ‡∏≤ Guest Data ‡∏¢‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô Mock
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á booking ‡πÉ‡∏´‡∏°‡πà‡∏´‡∏•‡∏±‡∏á rebuild
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ sign in ‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á booking
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö backend logs ‡∏ß‡πà‡∏≤‡∏°‡∏µ "[CreateBooking] Using guest account data"

### ‡∏ñ‡πâ‡∏≤ Booking ‡πÄ‡∏Å‡πà‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] ‡∏£‡∏±‡∏ô fix script: `run_fix_mock_guest_data.bat`
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö output ‡∏ß‡πà‡∏≤‡∏°‡∏µ booking ‡∏ñ‡∏π‡∏Å update
- [ ] Refresh ‡∏´‡∏ô‡πâ‡∏≤ admin

## ‚úÖ Final Checklist

- [ ] ‡∏ó‡∏∏‡∏Å test case ‡∏ú‡πà‡∏≤‡∏ô
- [ ] Payment status ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤
- [ ] Guest data ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏∏‡∏Å booking
- [ ] ‡πÑ‡∏°‡πà‡∏°‡∏µ mock data ‡πÉ‡∏ô booking ‡πÉ‡∏´‡∏°‡πà
- [ ] Check-in flow ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥
- [ ] ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô production

## üìù Notes

‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö:

```
[‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà]
```

---

**Tested By**: _______________  
**Date**: _______________  
**Result**: [ ] PASS  [ ] FAIL  
**Comments**: _______________
